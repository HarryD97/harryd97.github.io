---
layout: default
---

{% assign locale = site.data.locales[site.language] %}
{% if page.lang and page.lang != site.language %}
  {% assign locale = site.data.locales[page.lang] %}
{% endif %}

<article class="post">
  <div class="container">
    <header class="post-header">
      <h1 class="post-title">{{ page.title | escape }}</h1>
      
      <div class="post-meta">
        <div class="post-meta-item">
          <time datetime="{{ page.date | date_to_xmlschema }}">
            {{ locale.post.posted_on }} {{ page.date | date: "%Y-%m-%d" }}
          </time>
        </div>
        
        {% if page.last_modified_at %}
          <div class="post-meta-item">
            <time datetime="{{ page.last_modified_at | date_to_xmlschema }}">
              {{ locale.post.updated_on }} {{ page.last_modified_at | date: "%Y-%m-%d" }}
            </time>
          </div>
        {% endif %}
        
        {% if page.category %}
          <div class="post-meta-item">
            <span class="post-category">{{ page.category }}</span>
          </div>
        {% endif %}
        
        <div class="post-meta-item">
          {% assign words = content | strip_html | number_of_words %}
          {% assign read_time = words | divided_by: 200 | plus: 1 %}
          <span class="read-time">
            {{ locale.post.read_time }}: {{ read_time }} 
            {% if read_time == 1 %}{{ locale.post.minute }}{% else %}{{ locale.post.minutes }}{% endif %}
          </span>
        </div>
      </div>
      
      {% if page.tags.size > 0 %}
        <div class="post-tags">
          {% for tag in page.tags %}
            <a href="{% if page.lang == 'en' %}/en/tags/#{{ tag | slugify }}{% else %}/tags/#{{ tag | slugify }}{% endif %}" class="tag">
              #{{ tag }}
            </a>
          {% endfor %}
        </div>
      {% endif %}
    </header>

    <div class="post-content">
      {{ content }}
    </div>

    <footer class="post-footer">
      <div class="post-share">
        <h4>{{ locale.post.share }}</h4>
        <div class="share-buttons">
          <a href="https://twitter.com/intent/tweet?text={{ page.title | url_encode }}&url={{ site.url }}{{ page.url }}" 
             target="_blank" rel="noopener" class="share-btn twitter">
            Twitter
          </a>
          <a href="https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ page.url }}" 
             target="_blank" rel="noopener" class="share-btn facebook">
            Facebook
          </a>
          <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ site.url }}{{ page.url }}" 
             target="_blank" rel="noopener" class="share-btn linkedin">
            LinkedIn
          </a>
        </div>
      </div>

      <nav class="post-navigation">
        {% if page.lang == 'en' %}
          {% assign posts = site.posts_en %}
        {% else %}
          {% assign posts = site.posts %}
        {% endif %}
        
        {% for post in posts %}
          {% if post.url == page.url %}
            {% assign current_index = forloop.index %}
            {% break %}
          {% endif %}
        {% endfor %}
        
        {% for post in posts %}
          {% if forloop.index == current_index %}
            {% unless forloop.last %}
              {% assign next_post = posts[forloop.index] %}
            {% endunless %}
            {% unless forloop.first %}
              {% assign prev_post = posts[forloop.index0 - 1] %}
            {% endunless %}
            {% break %}
          {% endif %}
        {% endfor %}
        
        {% if prev_post %}
          <div class="nav-previous">
            <a href="{{ prev_post.url | relative_url }}">
              ← {{ locale.post.previous }}: {{ prev_post.title }}
            </a>
          </div>
        {% endif %}
        
        {% if next_post %}
          <div class="nav-next">
            <a href="{{ next_post.url | relative_url }}">
              {{ locale.post.next }}: {{ next_post.title }} →
            </a>
          </div>
        {% endif %}
      </nav>
    </footer>
  </div>
</article>

{% if site.disqus.shortname %}
  <div class="comments-section">
    <div class="container">
      <div id="disqus_thread"></div>
      <script>
        var disqus_config = function () {
          this.page.url = "{{ site.url }}{{ page.url }}";
          this.page.identifier = "{{ page.id }}";
        };
        (function() {
          var d = document, s = d.createElement('script');
          s.src = 'https://{{ site.disqus.shortname }}.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    </div>
  </div>
{% endif %}