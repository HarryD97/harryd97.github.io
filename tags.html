---
layout: default
title: 标签
permalink: /tags/
---

{% assign locale = site.data.locales[site.language] %}

<div class="container">
  <header class="page-header">
    <h1 class="page-title">{{ locale.nav.tags }}</h1>
    <p class="page-description">按标签浏览文章</p>
  </header>

  <div class="tags-page">
    {% assign tags = site.tags | sort %}
    {% if tags.size > 0 %}
      <!-- Tags cloud -->
      <div class="tags-cloud-section">
        <h2>所有标签</h2>
        <div class="tags-cloud-large">
          {% for tag in tags %}
            <a href="#{{ tag[0] | slugify }}" class="tag-cloud-item" data-count="{{ tag[1] | size }}">
              #{{ tag[0] }}
              <span class="tag-count">({{ tag[1] | size }})</span>
            </a>
          {% endfor %}
        </div>
      </div>

      <!-- Tag sections -->
      <div class="tags-sections">
        {% for tag in tags %}
          <div class="tag-section" id="{{ tag[0] | slugify }}">
            <h2 class="tag-title">
              #{{ tag[0] }}
              <span class="tag-count">({{ tag[1] | size }})</span>
            </h2>
            
            <div class="posts-list">
              {% for post in tag[1] %}
                <article class="post-list-item">
                  <div class="post-meta">
                    <time datetime="{{ post.date | date_to_xmlschema }}">
                      {{ post.date | date: "%Y-%m-%d" }}
                    </time>
                    {% if post.category %}
                      <span class="post-category">{{ post.category }}</span>
                    {% endif %}
                  </div>
                  
                  <h3 class="post-title">
                    <a href="{{ post.url | relative_url }}">{{ post.title | escape }}</a>
                  </h3>
                  
                  {% if post.excerpt %}
                    <p class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 25 }}</p>
                  {% endif %}
                  
                  {% if post.tags.size > 1 %}
                    <div class="post-tags">
                      {% for post_tag in post.tags %}
                        {% unless post_tag == tag[0] %}
                          <a href="#{{ post_tag | slugify }}" class="tag">#{{ post_tag }}</a>
                        {% endunless %}
                      {% endfor %}
                    </div>
                  {% endif %}
                </article>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="empty-state">
        <p>暂无标签文章。</p>
      </div>
    {% endif %}
  </div>
</div>

<style>
.tags-cloud-section {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
  margin-bottom: var(--space-8);
}

.tags-cloud-section h2 {
  margin-bottom: var(--space-4);
  color: var(--text-primary);
}

.tags-cloud-large {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
}

.tag-cloud-item {
  background-color: var(--bg-primary);
  color: var(--text-secondary);
  padding: var(--space-2) var(--space-3);
  border-radius: var(--radius-md);
  text-decoration: none;
  border: 1px solid var(--border-color);
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: var(--space-1);
}

.tag-cloud-item:hover {
  background-color: var(--accent-color);
  color: white;
  transform: translateY(-1px);
}

.tag-cloud-item[data-count="1"] { font-size: 0.875rem; }
.tag-cloud-item[data-count="2"], .tag-cloud-item[data-count="3"] { font-size: 1rem; }
.tag-cloud-item[data-count="4"], .tag-cloud-item[data-count="5"] { font-size: 1.125rem; }
.tag-cloud-item[data-count^="6"], .tag-cloud-item[data-count^="7"], 
.tag-cloud-item[data-count^="8"], .tag-cloud-item[data-count^="9"] { font-size: 1.25rem; }

.tags-sections {
  display: grid;
  gap: var(--space-8);
}

.tag-section {
  background-color: var(--bg-secondary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-lg);
  padding: var(--space-6);
}

.tag-title {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  margin-bottom: var(--space-6);
  color: var(--text-primary);
  font-size: 1.5rem;
}

.tag-count {
  background-color: var(--accent-color);
  color: white;
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-sm);
  font-size: 0.875rem;
  font-weight: 500;
}

.posts-list {
  display: grid;
  gap: var(--space-4);
}

.post-list-item {
  padding: var(--space-4);
  background-color: var(--bg-primary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  transition: all 0.2s ease;
}

.post-list-item:hover {
  transform: translateX(4px);
  box-shadow: var(--shadow-md);
}

.post-list-item .post-meta {
  margin-bottom: var(--space-2);
}

.post-list-item .post-title {
  margin-bottom: var(--space-2);
  font-size: 1.125rem;
}

.post-list-item .post-excerpt {
  margin-bottom: var(--space-3);
  color: var(--text-secondary);
  font-size: 0.875rem;
}

.empty-state {
  text-align: center;
  padding: var(--space-16);
  color: var(--text-muted);
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Smooth scroll to tag sections
  const tagLinks = document.querySelectorAll('.tag-cloud-item[href^="#"]');
  tagLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      const target = document.querySelector(targetId);
      if (target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  });
});
</script>